@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bean-cursor-default: url('data:image/svg+xml;utf8,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2236%22%20height=%2236%22%20viewBox=%220%200%2036%2036%22%3E%3Ccircle%20cx=%2218%22%20cy=%2218%22%20r=%2216%22%20fill=%22%23B8A690%22%2F%3E%3Ccircle%20cx=%2218%22%20cy=%2218%22%20r=%2210.5%22%20fill=%22%23F7F4ED%22%2F%3E%3Ccircle%20cx=%2218%22%20cy=%2218%22%20r=%225%22%20fill=%22%233A3530%22%2F%3E%3C/svg%3E') 18 18, auto;
  --bean-cursor-pointer: url('data:image/svg+xml;utf8,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2244%22%20height=%2244%22%20viewBox=%220%200%2044%2044%22%3E%3Ccircle%20cx=%2222%22%20cy=%2222%22%20r=%2220%22%20fill=%22%23B8A690%22%2F%3E%3Ccircle%20cx=%2222%22%20cy=%2222%22%20r=%2213%22%20fill=%22%23E9E1D7%22%2F%3E%3Ccircle%20cx=%2222%22%20cy=%2222%22%20r=%227%22%20fill=%22%233A3530%22%2F%3E%3C/svg%3E') 22 22, pointer;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans text-text antialiased m-0;
    background-color: theme('colors.background');
    color: theme('colors.text');
    background-image:
      radial-gradient(circle at 20% 20%, rgba(233, 225, 215, 0.55) 0, transparent 65%),
      radial-gradient(circle at 80% -10%, rgba(184, 166, 144, 0.18) 0, transparent 65%);
  }
}

/* Coffee bean cursor matching the logo - with S-shaped highlight */
* {
  cursor: var(--bean-cursor-default) !important;
}

button, a, [role="button"], input[type="submit"], input[type="button"] {
  cursor: var(--bean-cursor-pointer) !important;
}

/* Keep custom cursor for enhanced experience but don't hide default */
body.custom-cursor-enabled {
  cursor: var(--bean-cursor-default);
}

.custom-cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 64px;
  height: 64px;
  pointer-events: none;
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.2s ease;
  z-index: 99999;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 48px 48px;
  filter:
    drop-shadow(0 0 0 2px rgba(58, 53, 48, 0.25))
    drop-shadow(0 0 0 4px rgba(247, 244, 237, 0.85))
    drop-shadow(0 4px 16px rgba(174, 156, 131, 0.45))
    brightness(1.2)
    contrast(1.1);
  will-change: transform;
  display: none; /* Hidden by default, only show if enabled */
}

body.custom-cursor-enabled .custom-cursor {
  display: block;
}

.custom-cursor.is-active {
  opacity: 1;
}

.custom-cursor.is-hovering {
  transform: translate(-50%, -50%) scale(1.3);
  filter:
    drop-shadow(0 0 0 3px rgba(58, 53, 48, 0.35))
    drop-shadow(0 0 0 6px rgba(247, 244, 237, 0.95))
    drop-shadow(0 8px 24px rgba(174, 156, 131, 0.55))
    brightness(1.3)
    contrast(1.2);
  animation: pulse-glow 1.5s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% {
    filter:
      drop-shadow(0 0 0 3px rgba(58, 53, 48, 0.35))
      drop-shadow(0 0 0 6px rgba(247, 244, 237, 0.95))
      drop-shadow(0 8px 24px rgba(174, 156, 131, 0.55))
      brightness(1.3);
  }
  50% {
    filter:
      drop-shadow(0 0 0 4px rgba(58, 53, 48, 0.45))
      drop-shadow(0 0 0 8px rgba(247, 244, 237, 1))
      drop-shadow(0 12px 32px rgba(174, 156, 131, 0.65))
      brightness(1.4);
  }
}
